@inherits BaseComponent<TSelf>
@typeparam TSelf

@code {
	/// <summary>
	/// Components' database accessor object.
	/// </summary>
	[Inject, NotNull]
	protected AnyDexDb? DbContext { get; private set; }

	public async Task<User?> GetCurrentUserAsync() {
		User user;
		var auth = await AuthenticationStateTask;

		if(auth.User.Identity is null) {
			return null;
		}

		user = await UserManager.GetUserAsync(auth.User);
#if DEBUG
	string username = user?.UserName ?? "<Guest>";
	Logger.LogDebug("Current User: {username}", username);
#endif

		return user;
	}
}
