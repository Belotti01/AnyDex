@using System.ComponentModel.DataAnnotations
@inherits BaseDbComponent<UserSettingsEditor>

@if(User is not null) {
	<MudTabs>
		<MudTabPanel Text="Main">
			<MudCard>
				<MudForm Class="mx-5" Model="User">
					<MudTextField Label="Full Name" @bind-Value="User.FullName" />
					<MudTextField Label="Bio" @bind-Value="User.Bio" Lines="32" />
				</MudForm>
			</MudCard>
		</MudTabPanel>
	</MudTabs>
}

@code {
	public User? User { get; set; }

	protected override async Task OnInitializedAsync() {
		base.OnInitialized();
		User = await GetCurrentUserAsync();
	}


	protected async Task<int> Submit() {
		int result = await DbContext.SaveChangesAsync();

		if(result > 0) {
			//ShowNotification("Saved!", "Changes have been applied successfully.", NotificationType.Success);
		}else if(result < 0) {
			//AlertGenericError();
		}

		return result;
	}
}
