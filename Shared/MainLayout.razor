@using Microsoft.AspNetCore.Identity
@inherits LayoutComponentBase

<Layout>
    <Header Class="header">
        <div class="logo" />
    </Header>
    <Layout>
        <Sider Theme="SiderTheme.Dark">
            <Menu Theme="MenuTheme.Dark" Mode="MenuMode.Vertical" DefaultSelectedKeys=@(new []{"10"})>
                <MenuItem Key="10" RouterLink="/" RouterMatch="NavLinkMatch.All" Title="Index" />
                
                <MenuItem Key="20" RouterLink="/counter" RouterMatch="NavLinkMatch.All" Title="Counter" />

                <MenuItem Key="30" RouterLink="/Resources" RouterMatch="NavLinkMatch.All" Title="Resources" />

                <SubMenu Key="40" Title="Account" Placement="Placement.BottomCenter" >
                    <AuthorizeView> 
                        <Authorized>
                            <MenuItem Key="41" RouterLink="/Identity/Account/Logout" RouterMatch="NavLinkMatch.All" Title="Logout" />
                            <MenuItem Key="42" RouterLink="/User/Settings" RouterMatch="NavLinkMatch.All" Title="Settings" />
                        </Authorized>
                        <NotAuthorized>
                            <MenuItem Key="41" RouterLink="/Identity/Account/Register" RouterMatch="NavLinkMatch.All" Title="Register" />
                            <MenuItem Key="42" RouterLink="/Identity/Account/Login" RouterMatch="NavLinkMatch.All" Title="Login" />
                        </NotAuthorized>
                    </AuthorizeView>
                </SubMenu>

            </Menu>
        </Sider>
        <Layout Style=" padding: 0 24px 24px;">
            <Content Class="site-layout-background" Style="padding: 24px; margin: 0; min-height: 100vh;">
                @Body
            </Content>
            <Footer Style="text-align: center;">AnyDex ©2022</Footer>
        </Layout>
    </Layout>

</Layout>

<style>
    .logo {
        width: 120px;
        height: 31px;
        background: rgba(255, 255, 255, 0.2);
        margin: 16px 28px 16px 0;
        float: left;
    }

    .site-layout-background {
        background: #fff;
    }
</style>


@code {
    bool collapsed;

    public void onCollapse(bool collapsed) {
        Console.WriteLine(collapsed);
        this.collapsed = collapsed;
    }
}